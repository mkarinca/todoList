!function(t){function o(t,o){o=o||function(){},this._dbName=t,localStorage[t]||(localStorage[t]=JSON.stringify({todos:[]})),o.call(this,JSON.parse(localStorage[t]))}o.prototype.find=function(t,o){if(o){var a=JSON.parse(localStorage[this._dbName]).todos;o.call(this,a.filter((function(o){for(var a in t)if(t[a]!==o[a])return!1;return!0})))}},o.prototype.findAll=function(t){(t=t||function(){}).call(this,JSON.parse(localStorage[this._dbName]).todos)},o.prototype.save=function(t,o,a){var i=JSON.parse(localStorage[this._dbName]),e=i.todos;o=o||function(){};var r=(new Date).getTime();if(a){for(var l=0;l<e.length;l++)if(e[l].id===a){for(var n in t)e[l][n]=t[n];break}localStorage[this._dbName]=JSON.stringify(i),o.call(this,e)}else t.id=parseInt(r),e.push(t),localStorage[this._dbName]=JSON.stringify(i),o.call(this,[t])},o.prototype.remove=function(t,o){for(var a,i=JSON.parse(localStorage[this._dbName]),e=i.todos,r=0;r<e.length;r++)e[r].id==t&&(a=e[r].id);for(r=0;r<e.length;r++)e[r].id==a&&e.splice(r,1);localStorage[this._dbName]=JSON.stringify(i),o.call(this,e)},o.prototype.drop=function(t){var o={todos:[]};localStorage[this._dbName]=JSON.stringify(o),t.call(this,o.todos)},t.app=t.app||{},t.app.Store=o}(window);
//# sourceMappingURL=index.ac381d7c.js.map
